<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<span id="data"></span>
<h1 style="color: #8dffa9">你好，来添加今天的工作任务吧！！！</h1>
<hr>
<form action="/add">
    任务：<input id="description" name="description" type="text">
    <select id="weatherEnum" name="weatherEnum">
        <option value="sunny">晴天</option>
        <option value="rainy">雨天</option>
        <option value="cloudy">阴天</option>
    </select>
    <input type="submit" name="提交">
</form>
<input type="button" onclick="f()" name="ajax提交">
<div id="ret"></div>
<script>

    /*
    * XhttpRequest:
    * 定义发送事件
    * 包含的数据，url
    * 定义返回的事件
    *
    *
    *
    * */
    function f() {
        var http = new XMLHttpRequest();
        http.onreadystatechange=function(){
            if(this.readyState==4 && this.status==200){
                document.getElementById("ret").innerHTML="返回成功"
            }
        }
        var description=document.getElementById("description");

        var weatherEnum=(document.getElementById("weatherEnum"));
        console.log(description.text+'xx'+weatherEnum.selected)
        http.open("POST","add",true);
        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        http.send("description="+description+",weatherEnum="+weatherEnum);

 /*       http.open("GET","add"+"?description=1111&weatherEnum=sunny",false);
        http.send();*/
    }
    var data = new Date();
    document.getElementById("data").innerText=data.getFullYear()+"年"+data.getMonth()+"月"+
        data.getDay()+"日"+data.getHours()+"时"+data.getMinutes()+"分"+data.getSeconds()+"秒";
</script>
</body>
</html>